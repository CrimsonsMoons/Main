--- Load Mercury UI Library
local Mercury = loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Main/refs/heads/main/UiLibary"))()

local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Create GUI
local GUI = Mercury:Create{
    Name = "Island Teleport GUI",
    Theme = Mercury.Themes.Dark,
    Link = "https://github.com/deeeity/mercury-lib"
}

-- === Tabs ===
local MainTab = GUI:Tab{
    Name = "Main",
    Icon = "rbxassetid://8569322835"
}

local TravelTab = GUI:Tab{
    Name = "Travel",
    Icon = "rbxassetid://8569322835"
}

local TrainTab = GUI:Tab{
    Name = "Train",
    Icon = "rbxassetid://8569322835"
}

local SellTab = GUI:Tab{
    Name = "Sell",
    Icon = "rbxassetid://8569322835"
}

local ShopTab = GUI:Tab{
    Name = "Shop",
    Icon = "rbxassetid://8569322835"
}

-- === Universal Exclusions ===
local exclusions = {
    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
    ["Horse"] = true,
    ["Travel Boat"] = true,
    ["c21e5cba-8957-4d65-9e54-1aaa2411a71c"] = true,
}

-- === Islands & Positions ===
local positionsByIsland = {
    ["Mainland"] = {},
    ["Forest Island"] = {Vector3.new(-7839,96,4180), Vector3.new(-7945,91,3557), Vector3.new(-7878,135,2901)},
    ["Mountain Island"] = {Vector3.new(-6715,276,10), Vector3.new(-6102,349,-242), Vector3.new(-6962,304,-778)},
    ["Lunar Islands"] = {Vector3.new(-3097.42,17.63,-3681.29), Vector3.new(-2759.49,6.74,-2589.20), Vector3.new(-2207.14,139.06,-1223.94), Vector3.new(-3266.90,15.43,-1436.56), Vector3.new(-3357.76,24.34,-2428.62)},
    ["Royal Island"] = {Vector3.new(253.7,94,-5399), Vector3.new(-372,156,-6136), Vector3.new(617,6.8,-6002)},
    ["Blizzard Island"] = {Vector3.new(-428,138,-3859), Vector3.new(-937,14,-3897), Vector3.new(244,15,-3563)},
    ["Jungle Island"] = {Vector3.new(3396,15,1080), Vector3.new(3616,65,2149), Vector3.new(3763,16,3143)},
    ["Volcano Island"] = {Vector3.new(2964.74,108.94,-7078.36), Vector3.new(4134.52,27.04,-6894.68), Vector3.new(4757.52,26.13,-7939.00), Vector3.new(3487.48,20.99,-8586.85)},
    ["Desert Island"] = {Vector3.new(1050,15,4095), Vector3.new(156,31,4065), Vector3.new(-517,38,4221)},
    ["Glacier Island"] = {Vector3.new(2718,115,-74), Vector3.new(2438,196,-763), Vector3.new(3102,147,-911), Vector3.new(3125,82,-74)},
    ["The Magical Forest"] = {},
}

-- === Island Toggles ===
local islandToggles = {}
local function getAllBodies(islandName)
    local bodies = {}
    local islandFolder = workspace:FindFirstChild("Islands") and workspace.Islands:FindFirstChild(islandName)
    if islandFolder then
        for _, model in pairs(islandFolder:GetChildren()) do
            if not exclusions[model.Name] then
                local body = model:FindFirstChild("Body")
                if body and body.Parent then
                    table.insert(bodies, body)
                end
            end
        end
    end
    return bodies
end

-- Section for island toggles
local IslandSection = MainTab:Section{ Name = "Island Auto-Teleport" }
for islandName,_ in pairs(positionsByIsland) do
    islandToggles[islandName] = {value=false}
    IslandSection:Toggle{
        Name = islandName,
        StartingState = false,
        Callback = function(state)
            islandToggles[islandName].value = state
        end
    }
end

-- Teleport loop
task.spawn(function()
    while true do
        local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
        if hrp then
            for islandName, positions in pairs(positionsByIsland) do
                local toggle = islandToggles[islandName]
                if toggle and toggle.value then
                    local currentBody
                    repeat
                        local bodies = getAllBodies(islandName)
                        if currentBody and (not currentBody.Parent or not currentBody:IsDescendantOf(workspace)) then
                            currentBody = nil
                        end
                        if not currentBody and #bodies>0 then
                            currentBody = bodies[1]
                        end

                        if currentBody and currentBody.Parent then
                            hrp.CFrame = CFrame.new(currentBody.Position + Vector3.new(0,5,0))
                            task.wait(0.3)
                        elseif #positions>0 then
                            for _, pos in ipairs(positions) do
                                if not toggle.value then break end
                                hrp.CFrame = CFrame.new(pos + Vector3.new(0,5,0))
                                task.wait(12)
                                if #getAllBodies(islandName)>0 then break end
                            end
                        else
                            task.wait(0.5)
                        end
                    until not toggle.value
                end
            end
        end
        task.wait(0.5)
    end
end)

-- === Travel Buttons ===
local TravelSection = TravelTab:Section{ Name = "Travel" }
for islandName in pairs(positionsByIsland) do
    TravelSection:Button{
        Name = "Travel to "..islandName,
        Description = "Use teleport remote",
        Callback = function()
            local args = {"\1","Travel",islandName,1}
            local remoteFolder = game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9):WaitForChild("Functions",9e9)
            local teleportRemote = remoteFolder:GetChildren()[2]
            if teleportRemote then
                teleportRemote:FireServer(unpack(args))
            end
        end
    }
end

-- === Train Tab ===
local TrainSection = TrainTab:Section{ Name = "Train" }
TrainSection:Button{
    Name = "Train All",
    Description = "Run Cross v1",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Jasmine/refs/heads/main/Cross%20v1", true))()
    end
}

-- === Sell Tab ===
local SellSection = SellTab:Section{ Name = "Auto Sell" }

local sellSpecials = false
SellSection:Toggle{
    Name = "Sell Specials",
    Description = "Sell all special (unlocked) items every 5s",
    StartingState = false,
    Callback = function(state)
        sellSpecials = state
        if state then
            task.spawn(function()
                while sellSpecials do
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Jasmine/refs/heads/main/Sell%20Specials", true))()
                    task.wait(5)
                end
            end)
        end
    end
}

local sellSpecials3 = false
SellSection:Toggle{
    Name = "Sell Specials3",
    Description = "Sell all special (unlocked) items every 5s",
    StartingState = false,
    Callback = function(state)
        sellSpecials3 = state
        if state then
            task.spawn(function()
                while sellSpecials3 do
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Jasmine/refs/heads/main/Auto%20Sell%20Specials%203", true))()
                    task.wait(5)
                end
            end)
        end
    end
}

local autoSellAll = false
SellSection:Toggle{
    Name = "Auto Sell",
    Description = "Sells all unlocked, non-special items every 5s",
    StartingState = false,
    Callback = function(state)
        autoSellAll = state
        if state then
            task.spawn(function()
                while autoSellAll do
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Jasmine/refs/heads/main/auto%20sell2", true))()
                    task.wait(5)
                end
            end)
        end
    end
}

local autoSell3Enabled = false
SellSection:Toggle{
    Name = "Auto Sell 3",
    Description = "Loop auto sell3 every 0.5 seconds",
    StartingState = false,
    Callback = function(state)
        autoSell3Enabled = state
        if state then
            task.spawn(function()
                while autoSell3Enabled do
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Jasmine/refs/heads/main/auto%20sell3", true))()
                    task.wait(0.5)
                end
            end)
        end
    end
}

local autoSell4Enabled = false
SellSection:Toggle{
    Name = "Auto Sell 4",
    Description = "Loop auto sell4 every 0.5 seconds",
    StartingState = false,
    Callback = function(state)
        autoSell4Enabled = state
        if state then
            task.spawn(function()
                while autoSell4Enabled do
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Jasmine/refs/heads/main/auto%20sell4", true))()
                    task.wait(0.5)
                end
            end)
        end
    end
}

local autoSellAccEnabled = false
SellSection:Toggle{
    Name = "Auto Sell Acc",
    Description = "Auto sell accessories every 5 seconds",
    StartingState = false,
    Callback = function(state)
        autoSellAccEnabled = state
        if state then
            task.spawn(function()
                while autoSellAccEnabled do
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/CrimsonsMoons/Jasmine/refs/heads/main/auto%20sell%20acc", true))()
                    task.wait(5)
                end
            end)
        end
    end
}

-- === Shop Tab ===
local ShopSection = ShopTab:Section{ Name = "Shop Actions" }

-- All buttons and toggles for Shop
ShopSection:Button{
    Name = "Rope",
    Description = "Buys Rope from Mainland Shop",
    Callback = function()
        local args = {"BuyShopItem","Mainland Shop",1,1000}
        game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9):WaitForChild("Events",9e9):GetChildren()[18]:FireServer(unpack(args))
    end
}

ShopSection:Button{
    Name = "Tin",
    Description = "Buys Tin from Mainland Shop",
    Callback = function()
        local args = {"BuyShopItem","Mainland Shop",10,1000}
        game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9):WaitForChild("Events",9e9):GetChildren()[18]:FireServer(unpack(args))
    end
}

local autoCraftEnabled = false
ShopSection:Toggle{
    Name = "Auto Craft Tin Lassos",
    Description = "Continuously crafts Tin Lassos every 0.4s",
    StartingState = false,
    Callback = function(state)
        autoCraftEnabled = state
        if state then
            task.spawn(function()
                while autoCraftEnabled do
                    local args = {"Craft",{id=18,variants={},amt=1000}}
                    game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9):WaitForChild("Events",9e9):GetChildren()[9]:FireServer(unpack(args))
                    task.wait(0.4)
                end
            end)
        end
    end
}

-- === Shop Toggles (Mercury UI) ===
local autoBasketEnabled = false
ShopSection:Toggle{
    Name = "Auto Basket",
    Description = "Fires Remote[16] every 0.1s with Trade args",
    StartingState = false,
    Callback = function(state)
        autoBasketEnabled = state
        if state then
            task.spawn(function()
                while autoBasketEnabled do
                    local args = {"\1","Trade","goldenAppleBasket"}
                    local func = game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9)
                        :WaitForChild("Functions",9e9):GetChildren()[16]
                    func:FireServer(unpack(args))
                    task.wait(0.06)
                end
            end)
        end
    end
}

local buyApplesEnabled = false
ShopSection:Toggle{
    Name = "Buy Apples",
    Description = "Buys Apples from Farm Shop every 0.9s",
    StartingState = false,
    Callback = function(state)
        buyApplesEnabled = state
        if state then
            task.spawn(function()
                while buyApplesEnabled do
                    local args = {"BuyShopItem","Farm Shop",6,1000}
                    local event = game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9)
                        :WaitForChild("Events",9e9):GetChildren()[18]
                    event:FireServer(unpack(args))
                    task.wait(0.1)
                end
            end)
        end
    end
}

local ticketsEnabled = false
ShopSection:Toggle{
    Name = "Tickets",
    Description = "Buys Summer Carnival tickets every 0.4s",
    StartingState = false,
    Callback = function(state)
        ticketsEnabled = state
        if state then
            task.spawn(function()
                while ticketsEnabled do
                    local args = {"\1","Trade","summerCarnival"}
                    local func = game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9)
                        :WaitForChild("Functions",9e9):GetChildren()[15]
                    func:FireServer(unpack(args))
                    task.wait(0.4)
                end
            end)
        end
    end
}

local autofeedgEnabled = false
ShopSection:Toggle{
    Name = "autofeedg",
    Description = "Activates feed gadget every 0.4s",
    StartingState = false,
    Callback = function(state)
        autofeedgEnabled = state
        if state then
            task.spawn(function()
                while autofeedgEnabled do
                    local args = {"{bb9d1f45-bf97-450d-84cb-03745d633e8b}","Activate"}
                    local event = game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9)
                        :WaitForChild("Events",9e9):GetChildren()[10]
                    event:FireServer(unpack(args))
                    task.wait(0.4)
                end
            end)
        end
    end
}

local trainticketsEnabled = false
ShopSection:Toggle{
    Name = "Train Tickets",
    Description = "Buys training receipts every 0.4s",
    StartingState = false,
    Callback = function(state)
        trainticketsEnabled = state
        if state then
            task.spawn(function()
                while trainticketsEnabled do
                    local args = {"\1","Trade","trainingReceipts"}
                    local func = game:GetService("ReplicatedStorage"):WaitForChild("Communication",9e9)
                        :WaitForChild("Functions",9e9):GetChildren()[16]
                    func:FireServer(unpack(args))
                    task.wait(0.1)
                end
            end)
        end
    end
}

local autocollectEnabled = false
ShopSection:Toggle{
    Name = "Auto Collect",
    Description = "Collects from all islands every 0.1s",
    StartingState = false,
    Callback = function(state)
        autocollectEnabled = state
        if state then
            task.spawn(function()
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Events = ReplicatedStorage:WaitForChild("Communication",9e9)
                    :WaitForChild("Events",9e9)
                local CollectEvent = Events:GetChildren()[12]
                local IslandsFolder = workspace:WaitForChild("Islands",9e9)

                while autocollectEnabled do
                    for _, island in pairs(IslandsFolder:GetChildren()) do
                        if island:IsA("Folder") or island:IsA("Model") then
                            for _, uuidModel in pairs(island:GetChildren()) do
                                if uuidModel:IsA("Model") and uuidModel.Name:match("^%b{}$") then
                                    local args = {"Collect", uuidModel}
                                    CollectEvent:FireServer(unpack(args))
                                end
                            end
                        end
                    end
                    task.wait(0.5)
                end
            end)
        end
    end
}
-- === Auto Catch Tab ===
local AutoCatchTab = GUI:Tab{
    Name = "Auto Catch",
    Icon = "rbxassetid://8569322835"
}

local AutoSection = AutoCatchTab:Section{
    Name = "Auto Catch",
    Side = "Left"
}

-- === Auto Catch Toggle ===
local autoCatchEnabled = false
AutoSection:Toggle{
    Name = "Islands 1,2,3",
    Description = "Auto Catch Script",
    StartingState = false,
    Callback = function(state)
        autoCatchEnabled = state
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Workspace = game:GetService("Workspace")

                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

                -- Reconnect on respawn
                LocalPlayer.CharacterAdded:Connect(function(char)
                    Character = char
                    HumanoidRootPart = char:WaitForChild("HumanoidRootPart")
                end)

                -- Tool UUIDs
                local TOOL_UUIDS = {
                    "{b3766c24-da18-40f0-be56-66dba5e882d8}",
                    "{efe4b787-0112-42f2-a83c-659149e1de5c}",
                    "{91c7c7cc-0b88-4450-9cd5-18063fa4fea0}",
                    "{cd4c34c5-99a6-4f28-ac73-bfad7c8e1ca2}",
                }

                -- Exclusions
                local exclusions = {
                    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
                    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
                    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
                    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
                    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
                    ["{c91d0e3a-e8c6-4e70-b274-9b7304ffbb28}"] = true,
                    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
                    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
                    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
                    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
                    ["Horse"] = true,
                    ["Travel Boat"] = true,
                }

                local islandFolders = {
                    "Mainland","Forest Island","Mountain Island","Lunar Islands",
                    "Royal Island","Blizzard Island","Jungle Island","Volcano Island",
                    "Desert Island","The Magical Forest"
                }

                local remote = ReplicatedStorage:WaitForChild("Communication"):WaitForChild("Events"):GetChildren()[13]
                local CATCH_RADIUS = 15
                local CATCH_COOLDOWN = 0.7
                local lastCaught = {}

                local function isUUID(name)
                    return typeof(name) == "string" and name:match("^%b{}$") ~= nil
                end

                while autoCatchEnabled do
                    task.wait(0.7)
                    if not HumanoidRootPart or not HumanoidRootPart.Parent then continue end
                    local playerPos = HumanoidRootPart.Position
                    local now = os.clock()

                    -- Check island folders
                    for _, islandName in ipairs(islandFolders) do
                        local islandFolder = Workspace:FindFirstChild("Islands") and Workspace.Islands:FindFirstChild(islandName)
                        if islandFolder then
                            for _, child in ipairs(islandFolder:GetChildren()) do
                                local body = child:FindFirstChild("Body")
                                if body and isUUID(child.Name) and not exclusions[child.Name] then
                                    local dist = (body.Position - playerPos).Magnitude
                                    if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                        for _, tool in ipairs(TOOL_UUIDS) do
                                            remote:FireServer(tool, "Activate", child)
                                        end
                                        lastCaught[child] = now
                                        print("Caught:", child.Name, "at", islandName, "Distance:", math.floor(dist))
                                    end
                                end
                            end
                        end
                    end

                    -- Top-level Workspace UUIDs
                    for _, child in ipairs(Workspace:GetChildren()) do
                        local body = child:FindFirstChild("Body")
                        if body and isUUID(child.Name) and not exclusions[child.Name] then
                            local dist = (body.Position - playerPos).Magnitude
                            if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                for _, tool in ipairs(TOOL_UUIDS) do
                                    remote:FireServer(tool, "Activate", child)
                                end
                                lastCaught[child] = now
                                print("Caught top-level:", child.Name, "Distance:", math.floor(dist))
                            end
                        end
                    end
                end
            end)
        end
    end
}

-----============= toggle 2 =======-

local autoCatchEnabled = false
AutoSection:Toggle{
    Name = "Islands 1,2,3",
    Description = "Auto Catch Script",
    StartingState = false,
    Callback = function(state)
        autoCatchEnabled = state
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Workspace = game:GetService("Workspace")

                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

                -- Reconnect on respawn
                LocalPlayer.CharacterAdded:Connect(function(char)
                    Character = char
                    HumanoidRootPart = char:WaitForChild("HumanoidRootPart")
                end)

                -- Tool UUIDs
                local TOOL_UUIDS = {
                    "{634dc3c2-1694-4273-92d2-adf8f7ade91f}",
                    "{06905d54-7826-417e-bfc7-82d326a30885}",
                    "{5dab28e4-4bfb-430b-86fe-530bafa237b5}",
                }

                -- Exclusions
                local exclusions = {
                    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
                    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
                    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
                    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
                    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
                    ["{c91d0e3a-e8c6-4e70-b274-9b7304ffbb28}"] = true,
                    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
                    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
                    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
                    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
                    ["Horse"] = true,
                    ["Travel Boat"] = true,
                }

                local islandFolders = {
                    "Mainland","Forest Island","Mountain Island","Lunar Islands",
                    "Royal Island","Blizzard Island","Jungle Island","Volcano Island",
                    "Desert Island","The Magical Forest"
                }

                local remote = ReplicatedStorage:WaitForChild("Communication"):WaitForChild("Events"):GetChildren()[13]
                local CATCH_RADIUS = 15
                local CATCH_COOLDOWN = 0.7
                local lastCaught = {}

                local function isUUID(name)
                    return typeof(name) == "string" and name:match("^%b{}$") ~= nil
                end

                while autoCatchEnabled do
                    task.wait(0.7)
                    if not HumanoidRootPart or not HumanoidRootPart.Parent then continue end
                    local playerPos = HumanoidRootPart.Position
                    local now = os.clock()

                    -- Check island folders
                    for _, islandName in ipairs(islandFolders) do
                        local islandFolder = Workspace:FindFirstChild("Islands") and Workspace.Islands:FindFirstChild(islandName)
                        if islandFolder then
                            for _, child in ipairs(islandFolder:GetChildren()) do
                                local body = child:FindFirstChild("Body")
                                if body and isUUID(child.Name) and not exclusions[child.Name] then
                                    local dist = (body.Position - playerPos).Magnitude
                                    if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                        for _, tool in ipairs(TOOL_UUIDS) do
                                            remote:FireServer(tool, "Activate", child)
                                        end
                                        lastCaught[child] = now
                                        print("Caught:", child.Name, "at", islandName, "Distance:", math.floor(dist))
                                    end
                                end
                            end
                        end
                    end

                    -- Top-level Workspace UUIDs
                    for _, child in ipairs(Workspace:GetChildren()) do
                        local body = child:FindFirstChild("Body")
                        if body and isUUID(child.Name) and not exclusions[child.Name] then
                            local dist = (body.Position - playerPos).Magnitude
                            if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                for _, tool in ipairs(TOOL_UUIDS) do
                                    remote:FireServer(tool, "Activate", child)
                                end
                                lastCaught[child] = now
                                print("Caught top-level:", child.Name, "Distance:", math.floor(dist))
                            end
                        end
                    end
                end
            end)
        end
    end
}

----========================== Islands 3,4,5 ============--------
-- === Auto Catch 2 Toggle ===
local autoCatch2Enabled = false
AutoSection:Toggle{
    Name = "4,5,6",
    Description = "Auto Catch Script 2",
    StartingState = false,
    Callback = function(state)
        autoCatch2Enabled = state
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Workspace = game:GetService("Workspace")

                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

                -- Reconnect on respawn
                LocalPlayer.CharacterAdded:Connect(function(char)
                    Character = char
                    HumanoidRootPart = char:WaitForChild("HumanoidRootPart")
                end)

                -- Tool UUIDs
                local TOOL_UUIDS = {
                    "{cd4c34c5-99a6-4f28-ac73-bfad7c8e1ca2}",
                    "{b3766c24-da18-40f0-be56-66dba5e882d8}",
                    "{efe4b787-0112-42f2-a83c-659149e1de5c}",
                    "{91c7c7cc-0b88-4450-9cd5-18063fa4fea0}",
                }

                -- Exclusions
                local exclusions = {
                    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
                    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
                    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
                    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
                    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
                    ["{c91d0e3a-e8c6-4e70-b274-9b7304ffbb28}"] = true,
                    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
                    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
                    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
                    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
                    ["{980efa15-9598-4070-b1c2-344bd80cce25}"] = true,
                    ["Horse"] = true,
                    ["Travel Boat"] = true,
                }

                -- Island folders
                local islandFolders = {
                    "Mainland","Forest Island","Mountain Island","Lunar Islands",
                    "Royal Island","Blizzard Island","Jungle Island","Volcano Island",
                    "Desert Island","The Magical Forest","Glacier Island"
                }

                local remote = ReplicatedStorage:WaitForChild("Communication"):WaitForChild("Events"):GetChildren()[10]
                local CATCH_RADIUS = 15
                local CATCH_COOLDOWN = 0.8
                local lastCaught = {}

                local function isUUID(name)
                    return typeof(name) == "string" and name:match("^%b{}$") ~= nil
                end

                while autoCatch2Enabled do
                    task.wait(CATCH_COOLDOWN)
                    if not HumanoidRootPart or not HumanoidRootPart.Parent then continue end
                    local playerPos = HumanoidRootPart.Position
                    local now = os.clock()

                    -- Check island folders
                    for _, islandName in ipairs(islandFolders) do
                        local islandFolder = Workspace:FindFirstChild("Islands") and Workspace.Islands:FindFirstChild(islandName)
                        if islandFolder then
                            for _, child in ipairs(islandFolder:GetChildren()) do
                                local body = child:FindFirstChild("Body")
                                if body and isUUID(child.Name) and not exclusions[child.Name] then
                                    local dist = (body.Position - playerPos).Magnitude
                                    if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                        for _, tool in ipairs(TOOL_UUIDS) do
                                            remote:FireServer(tool, "Activate", child)
                                        end
                                        lastCaught[child] = now
                                    end
                                end
                            end
                        end
                    end

                    -- Top-level UUIDs
                    for _, child in ipairs(Workspace:GetChildren()) do
                        local body = child:FindFirstChild("Body")
                        if body and isUUID(child.Name) and not exclusions[child.Name] then
                            local dist = (body.Position - playerPos).Magnitude
                            if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                for _, tool in ipairs(TOOL_UUIDS) do
                                    remote:FireServer(tool, "Activate", child)
                                end
                                lastCaught[child] = now
                            end
                        end
                    end
                end
            end)
        end
    end
}


-- === Auto Catch 2 Toggle ===
local autoCatch2Enabled = false
AutoSection:Toggle{
    Name = "4,5,6",
    Description = "Auto Catch Script 2",
    StartingState = false,
    Callback = function(state)
        autoCatch2Enabled = state
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Workspace = game:GetService("Workspace")

                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

                -- Reconnect on respawn
                LocalPlayer.CharacterAdded:Connect(function(char)
                    Character = char
                    HumanoidRootPart = char:WaitForChild("HumanoidRootPart")
                end)

                -- Tool UUIDs
                local TOOL_UUIDS = {
                    "{634dc3c2-1694-4273-92d2-adf8f7ade91f}",
                    "{06905d54-7826-417e-bfc7-82d326a30885}",
                    "{5dab28e4-4bfb-430b-86fe-530bafa237b5}",
                }

                -- Exclusions
                local exclusions = {
                    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
                    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
                    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
                    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
                    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
                    ["{c91d0e3a-e8c6-4e70-b274-9b7304ffbb28}"] = true,
                    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
                    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
                    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
                    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
                    ["{980efa15-9598-4070-b1c2-344bd80cce25}"] = true,
                    ["Horse"] = true,
                    ["Travel Boat"] = true,
                }

                -- Island folders
                local islandFolders = {
                    "Mainland","Forest Island","Mountain Island","Lunar Islands",
                    "Royal Island","Blizzard Island","Jungle Island","Volcano Island",
                    "Desert Island","The Magical Forest","Glacier Island"
                }

                local remote = ReplicatedStorage:WaitForChild("Communication"):WaitForChild("Events"):GetChildren()[10]
                local CATCH_RADIUS = 15
                local CATCH_COOLDOWN = 0.8
                local lastCaught = {}

                local function isUUID(name)
                    return typeof(name) == "string" and name:match("^%b{}$") ~= nil
                end

                while autoCatch2Enabled do
                    task.wait(CATCH_COOLDOWN)
                    if not HumanoidRootPart or not HumanoidRootPart.Parent then continue end
                    local playerPos = HumanoidRootPart.Position
                    local now = os.clock()

                    -- Check island folders
                    for _, islandName in ipairs(islandFolders) do
                        local islandFolder = Workspace:FindFirstChild("Islands") and Workspace.Islands:FindFirstChild(islandName)
                        if islandFolder then
                            for _, child in ipairs(islandFolder:GetChildren()) do
                                local body = child:FindFirstChild("Body")
                                if body and isUUID(child.Name) and not exclusions[child.Name] then
                                    local dist = (body.Position - playerPos).Magnitude
                                    if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                        for _, tool in ipairs(TOOL_UUIDS) do
                                            remote:FireServer(tool, "Activate", child)
                                        end
                                        lastCaught[child] = now
                                    end
                                end
                            end
                        end
                    end

                    -- Top-level UUIDs
                    for _, child in ipairs(Workspace:GetChildren()) do
                        local body = child:FindFirstChild("Body")
                        if body and isUUID(child.Name) and not exclusions[child.Name] then
                            local dist = (body.Position - playerPos).Magnitude
                            if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                for _, tool in ipairs(TOOL_UUIDS) do
                                    remote:FireServer(tool, "Activate", child)
                                end
                                lastCaught[child] = now
                            end
                        end
                    end
                end
            end)
        end
    end
}

------------------------- =================== Islands 6,7,8 ============ -----------
-- === Auto Catch 3 Toggle ===
local autoCatch3Enabled = false
AutoSection:Toggle{
    Name = "7,8,9",
    Description = "Auto Catch Script 3",
    StartingState = false,
    Callback = function(state)
        autoCatch3Enabled = state
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Workspace = game:GetService("Workspace")

                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

                -- Reconnect on respawn
                LocalPlayer.CharacterAdded:Connect(function(char)
                    Character = char
                    HumanoidRootPart = char:WaitForChild("HumanoidRootPart")
                end)

                -- Tool UUIDs
                local TOOL_UUIDS = {
                    "{634dc3c2-1694-4273-92d2-adf8f7ade91f}",
                    "{06905d54-7826-417e-bfc7-82d326a30885}",
                    "{5dab28e4-4bfb-430b-86fe-530bafa237b5}",
                    "{cd4c34c5-99a6-4f28-ac73-bfad7c8e1ca2}",
                }

                -- Exclusions
                local exclusions = {
                    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
                    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
                    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
                    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
                    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
                    ["{c91d0e3a-e8c6-4e70-b274-9b7304ffbb28}"] = true,
                    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
                    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
                    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
                    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
                    ["{980efa15-9598-4070-b1c2-344bd80cce25}"] = true,
                    ["Horse"] = true,
                    ["Travel Boat"] = true,
                }

                -- Island folders
                local islandFolders = {
                    "Mainland","Forest Island","Mountain Island","Lunar Islands",
                    "Royal Island","Blizzard Island","Jungle Island","Volcano Island",
                    "Desert Island","The Magical Forest","Glacier Island"
                }

                local remote = ReplicatedStorage:WaitForChild("Communication"):WaitForChild("Events"):GetChildren()[10]
                local CATCH_RADIUS = 15
                local CATCH_COOLDOWN = 0.8
                local lastCaught = {}

                local function isUUID(name)
                    return typeof(name) == "string" and name:match("^%b{}$") ~= nil
                end

                while autoCatch3Enabled do
                    task.wait(CATCH_COOLDOWN)
                    if not HumanoidRootPart or not HumanoidRootPart.Parent then continue end
                    local playerPos = HumanoidRootPart.Position
                    local now = os.clock()

                    -- Check island folders
                    for _, islandName in ipairs(islandFolders) do
                        local islands = Workspace:FindFirstChild("Islands")
                        local islandFolder = islands and islands:FindFirstChild(islandName)
                        if islandFolder then
                            for _, child in ipairs(islandFolder:GetChildren()) do
                                local body = child:FindFirstChild("Body")
                                if body and isUUID(child.Name) and not exclusions[child.Name] then
                                    local dist = (body.Position - playerPos).Magnitude
                                    if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                        for _, tool in ipairs(TOOL_UUIDS) do
                                            remote:FireServer(tool, "Activate", child)
                                        end
                                        lastCaught[child] = now
                                    end
                                end
                            end
                        end
                    end

                    -- Top-level UUID models
                    for _, child in ipairs(Workspace:GetChildren()) do
                        local body = child:FindFirstChild("Body")
                        if body and isUUID(child.Name) and not exclusions[child.Name] then
                            local dist = (body.Position - playerPos).Magnitude
                            if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                for _, tool in ipairs(TOOL_UUIDS) do
                                    remote:FireServer(tool, "Activate", child)
                                end
                                lastCaught[child] = now
                            end
                        end
                    end
                end
            end)
        end
    end
}

-- === Auto Catch 3 Toggle ===
local autoCatch3Enabled = false
AutoSection:Toggle{
    Name = "7,8,9",
    Description = "Auto Catch Script 3",
    StartingState = false,
    Callback = function(state)
        autoCatch3Enabled = state
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Workspace = game:GetService("Workspace")

                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

                -- Reconnect on respawn
                LocalPlayer.CharacterAdded:Connect(function(char)
                    Character = char
                    HumanoidRootPart = char:WaitForChild("HumanoidRootPart")
                end)

                -- Tool UUIDs
                local TOOL_UUIDS = {
                    "{b3766c24-da18-40f0-be56-66dba5e882d8}",
                    "{efe4b787-0112-42f2-a83c-659149e1de5c}",
                    "{91c7c7cc-0b88-4450-9cd5-18063fa4fea0}",
                }

                -- Exclusions
                local exclusions = {
                    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
                    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
                    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
                    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
                    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
                    ["{c91d0e3a-e8c6-4e70-b274-9b7304ffbb28}"] = true,
                    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
                    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
                    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
                    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
                    ["{980efa15-9598-4070-b1c2-344bd80cce25}"] = true,
                    ["Horse"] = true,
                    ["Travel Boat"] = true,
                }

                -- Island folders
                local islandFolders = {
                    "Mainland","Forest Island","Mountain Island","Lunar Islands",
                    "Royal Island","Blizzard Island","Jungle Island","Volcano Island",
                    "Desert Island","The Magical Forest","Glacier Island"
                }

                local remote = ReplicatedStorage:WaitForChild("Communication"):WaitForChild("Events"):GetChildren()[10]
                local CATCH_RADIUS = 15
                local CATCH_COOLDOWN = 0.8
                local lastCaught = {}

                local function isUUID(name)
                    return typeof(name) == "string" and name:match("^%b{}$") ~= nil
                end

                while autoCatch3Enabled do
                    task.wait(CATCH_COOLDOWN)
                    if not HumanoidRootPart or not HumanoidRootPart.Parent then continue end
                    local playerPos = HumanoidRootPart.Position
                    local now = os.clock()

                    -- Check island folders
                    for _, islandName in ipairs(islandFolders) do
                        local islands = Workspace:FindFirstChild("Islands")
                        local islandFolder = islands and islands:FindFirstChild(islandName)
                        if islandFolder then
                            for _, child in ipairs(islandFolder:GetChildren()) do
                                local body = child:FindFirstChild("Body")
                                if body and isUUID(child.Name) and not exclusions[child.Name] then
                                    local dist = (body.Position - playerPos).Magnitude
                                    if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                        for _, tool in ipairs(TOOL_UUIDS) do
                                            remote:FireServer(tool, "Activate", child)
                                        end
                                        lastCaught[child] = now
                                    end
                                end
                            end
                        end
                    end

                    -- Top-level UUID models
                    for _, child in ipairs(Workspace:GetChildren()) do
                        local body = child:FindFirstChild("Body")
                        if body and isUUID(child.Name) and not exclusions[child.Name] then
                            local dist = (body.Position - playerPos).Magnitude
                            if dist <= CATCH_RADIUS and (not lastCaught[child] or now - lastCaught[child] > CATCH_COOLDOWN) then
                                for _, tool in ipairs(TOOL_UUIDS) do
                                    remote:FireServer(tool, "Activate", child)
                                end
                                lastCaught[child] = now
                            end
                        end
                    end
                end
            end)
        end
    end
}

-- === Extra Tab ===
local ExtraTab = GUI:Tab{
    Name = "Extra",
    Icon = "rbxassetid://8569322835"
}

local specialAutoEnabled = false
ExtraTab:Section{ Name = "Special Actions" }:Toggle{
    Name = "Special Island Catch",
    Description = "Auto-catch Glacier -> Desert -> Royal using Travel + Body positions",
    StartingState = false,
    Callback = function(state)
        specialAutoEnabled = state
        if state then
            task.spawn(function()
                local islandsSequence = {"Glacier Island", "Desert Island", "Royal Island"}
                local duration = 205 -- 3 minutes 25 seconds per island
                local lastCaught = {}
                local playerHrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
                local travelRemote = game:GetService("ReplicatedStorage"):WaitForChild("Communication"):WaitForChild("Functions",9e9):GetChildren()[2]

                local function isUUID(name)
                    return typeof(name) == "string" and name:match("^%b{}$") ~= nil
                end

                while specialAutoEnabled do
                    for _, islandName in ipairs(islandsSequence) do
                        if not specialAutoEnabled then break end
                        local toggle = islandToggles[islandName]
                        local positions = positionsByIsland[islandName] or {}

                        -- Travel using Travel tab remote
                        travelRemote:FireServer("\1", "Travel", islandName, 1)
                        local islandFolder = workspace:FindFirstChild("Islands") and workspace.Islands:FindFirstChild(islandName)
                        local startTime = os.clock()

                        while os.clock() - startTime < duration do
                            if not specialAutoEnabled then break end
                            task.wait(0.3)

                            -- Check for Bodies first
                            local bodies = {}
                            if islandFolder then
                                for _, model in ipairs(islandFolder:GetChildren()) do
                                    if not exclusions[model.Name] then
                                        local body = model:FindFirstChild("Body")
                                        if body and body.Parent then
                                            table.insert(bodies, body)
                                        end
                                    end
                                end
                            end

                            if #bodies > 0 then
                                -- Teleport to first Body found
                                local targetBody = bodies[1]
                                if playerHrp and targetBody then
                                    playerHrp.CFrame = CFrame.new(targetBody.Position + Vector3.new(0,5,0))
                                    for _, tool in ipairs(TOOL_UUIDS) do
                                        remote:FireServer(tool, "Activate", targetBody)
                                    end
                                    lastCaught[targetBody] = os.clock()
                                end
                            elseif #positions > 0 then
                                -- No Bodies, move to predefined positions
                                for _, pos in ipairs(positions) do
                                    if not specialAutoEnabled then break end
                                    if playerHrp then
                                        playerHrp.CFrame = CFrame.new(pos + Vector3.new(0,5,0))
                                    end
                                    task.wait(12)
                                    -- Stop early if a Body appears
                                    if islandFolder and #islandFolder:GetChildren() > 0 then
                                        break
                                    end
                                end
                            end
                        end
                    end
                end
            end)
        end
    end
}
